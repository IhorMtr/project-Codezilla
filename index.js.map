{"version":3,"file":"index.js","sources":["../src/js/faq.js","../src/js/reviews.js"],"sourcesContent":["import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nconst accordions = Array.from(\n  document.querySelectorAll('.accordion-container')\n);\nnew Accordion(accordions, {\n  openOnInit: [0],\n});\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport 'swiper/swiper-bundle.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst swiperWrapper = document.querySelector('.swiper-wrapper');\nconst reviewsSection = document.querySelector('.reviews-section');\n\nconst swiper = new Swiper('.swiper', {\n  modules: [Navigation, Keyboard],\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  breakpoints: {\n    1280: {\n      slidesPerView: 2,\n      spaceBetween: 32,\n    },\n  },\n  keyboard: {\n    enabled: true,\n  },\n});\n\nconst reviewsObserver = new IntersectionObserver(\n  (entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        createReviewsMarkup();\n        observer.unobserve(entry.target);\n      }\n    });\n  },\n  {\n    root: null,\n    threshold: 0.5,\n  }\n);\n\nasync function getReviews() {\n  try {\n    const response = await axios.get(\n      'https://portfolio-js.b.goit.study/api/reviews'\n    );\n    return response.data;\n  } catch (error) {\n    iziToast.show({\n      title: 'Error',\n      message: 'Something went wrong',\n      backgroundColor: 'red',\n      titleColor: '#fff',\n      messageColor: '#fff',\n      position: 'topRight',\n    });\n    const markup = createReviewsErrorMarkup();\n    swiperWrapper.innerHTML = markup;\n  }\n}\n\nasync function createReviewsMarkup() {\n  const reviewsData = await getReviews();\n  const createdMarkup = reviewsData.map(element => {\n    return `<div class=\"swiper-slide\">\n          <blockquote class=\"swiper-slide-text\">${element.review}</blockquote>\n          <div class=\"swiper-slide-content-wrapper\">\n            <img src=\"${element.avatar_url}\" alt=\"Blockquote author\" class=\"swiper-slide-image\" />\n            <h3 class=\"swiper-slide-title\">${element.author}</h3>\n          </div>\n        </div>`;\n  });\n  swiperWrapper.innerHTML = createdMarkup.join('');\n}\n\nfunction createReviewsErrorMarkup() {\n  return `<div class=\"swiper-slide\">\n          <p>Not found</p>\n        </div>`;\n}\n\nreviewsObserver.observe(reviewsSection);\n"],"names":["accordions","Accordion","swiperWrapper","reviewsSection","Swiper","Navigation","Keyboard","reviewsObserver","entries","observer","entry","createReviewsMarkup","getReviews","axios","iziToast","markup","createReviewsErrorMarkup","createdMarkup","element"],"mappings":"yxBAGA,MAAMA,EAAa,MAAM,KACvB,SAAS,iBAAiB,sBAAsB,CAClD,EACA,IAAIC,EAAUD,EAAY,CACxB,WAAY,CAAC,CAAC,CAChB,CAAC,ECDD,MAAME,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAiB,SAAS,cAAc,kBAAkB,EAEjD,IAAIC,EAAO,UAAW,CACnC,QAAS,CAACC,EAAYC,CAAQ,EAC9B,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,YAAa,CACX,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,EACD,SAAU,CACR,QAAS,EACV,CACH,CAAC,EAED,MAAMC,EAAkB,IAAI,qBAC1B,CAACC,EAASC,IAAa,CACrBD,EAAQ,QAAQE,GAAS,CACnBA,EAAM,iBACRC,EAAqB,EACrBF,EAAS,UAAUC,EAAM,MAAM,EAEvC,CAAK,CACF,EACD,CACE,KAAM,KACN,UAAW,EACf,CACA,EAEA,eAAeE,GAAa,CAC1B,GAAI,CAIF,OAHiB,MAAMC,EAAM,IAC3B,+CACD,GACe,IACjB,MAAe,CACdC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,uBACT,gBAAiB,MACjB,WAAY,OACZ,aAAc,OACd,SAAU,UAChB,CAAK,EACD,MAAMC,EAASC,EAA0B,EACzCd,EAAc,UAAYa,CAC9B,CACA,CAEA,eAAeJ,GAAsB,CAEnC,MAAMM,GADc,MAAML,EAAY,GACJ,IAAIM,GAC7B;AAAA,kDACuCA,EAAQ,MAAM;AAAA;AAAA,wBAExCA,EAAQ,UAAU;AAAA,6CACGA,EAAQ,MAAM;AAAA;AAAA,eAGxD,EACDhB,EAAc,UAAYe,EAAc,KAAK,EAAE,CACjD,CAEA,SAASD,GAA2B,CAClC,MAAO;AAAA;AAAA,eAGT,CAEAT,EAAgB,QAAQJ,CAAc"}